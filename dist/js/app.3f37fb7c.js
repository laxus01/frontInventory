(()=>{"use strict";var e={5187:(e,t,a)=>{a(6992),a(8674),a(9601),a(7727),a(5212),a(1539);var n=a(144),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)},r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-list",{attrs:{dense:""}},[[a("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t){return a("div",{key:t.title},[t.items?a("v-list-group",{attrs:{"prepend-icon":t.action,"no-action":"",link:""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)]},proxy:!0}],null,!0),model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"item.active"}},e._l(t.items,(function(t){return a("v-list-item",{key:t.title,attrs:{to:t.to}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:e._s(t.action)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1):a("v-list-item",{attrs:{to:t.to,link:""}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:e._s(t.action)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)],1)}))],2)]],2)},o=[];const l={name:"Menu",data:function(){return{items:[{action:"inventory",title:"Información",items:[{action:"production_quantity_limits",title:"Productos",to:"/register-product"},{action:"account_circle",title:"Clientes",to:"/list-clients"},{action:"account_box",title:"Proveedores",to:"/list-suppliers"}]},{action:"paid",title:"Transacciones",items:[{action:"login",title:"Compras",to:"/list-shopping"},{action:"logout",title:"Ventas",to:"/list-sales"}]},{action:"contact_page",title:"Cuentas",items:[{title:"Por Pagar",action:"contact_page",to:"/list-payable"},{title:"Por Cobrar",action:"contact_page",to:"/list-receivable"}]},{action:"assignment",title:"Informes",items:[{title:"Utilidades",action:"article",to:"/detail-utilities"}]},{action:"assessment",title:"Estadisticas",items:[{title:"Ingresos vs Egresos",action:"assessment",to:"/graphic-state"}]}]}}},c=l;var d=a(3736),u=a(3453),v=a.n(u),p=a(4324),m=a(5808),f=a(7397),h=a(4525),g=a(6105),b=a(4611),x=(0,d.Z)(c,s,o,!1,null,"29e91b97",null);const _=x.exports;v()(x,{VIcon:p.Z,VList:m.Z,VListGroup:f.Z,VListItem:h.Z,VListItemContent:g.km,VListItemIcon:b.Z,VListItemTitle:g.V9});const I={name:"App",data:function(){return{drawer:null,token:""}},components:{Menu:_}},k=I,C={container:"App_container_jzqtp"};var Z=a(998),w=a(7394);function V(e){this["$style"]=C.locals||C}var y=(0,d.Z)(k,i,r,!1,V,null,null);const S=y.exports;v()(y,{VApp:Z.Z,VSlideYTransition:w.cu});var D=a(8345),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",fixed:""}},[a("v-toolbar-title",[e._v("Usuario Registrado")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Usuario",type:"text"},model:{value:e.postLogin.login,callback:function(t){e.$set(e.postLogin,"login",t)},expression:"postLogin.login"}}),a("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Password",type:"password"},model:{value:e.postLogin.password,callback:function(t){e.$set(e.postLogin,"password",t)},expression:"postLogin.password"}})],1)],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"footer__left"},[e.error?a("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(" Error de usuario o Contraseña ")]):e._e()],1),a("div",{staticClass:"footer__right"},[a("v-btn",{attrs:{large:"",elevation:"5",color:"blue darken-3",dark:""},on:{click:function(t){return e.login()}}},[e._v("Iniciar Sesión")])],1)])],1)],1)],1)],1)],1)],1)},$=[],T=a(8534),R=(a(5666),a(8309),a(9669)),q=a.n(R);const E={data:function(){return{error:!1,postLogin:{login:"",password:""}}},methods:{login:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().post("users",e.postLogin).then(function(){var t=(0,T.Z)(regeneratorRuntime.mark((function t(a){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(n=a.data.res.token,i=a.data.res.name,window.localStorage.setItem("authToken",n),window.localStorage.setItem("nameUser",i),e.$router.push("/dashboard"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())["catch"]((function(t){e.error=!0,console.log(t)}));case 2:case"end":return t.stop()}}),t)})))()}},props:{source:String}},O=E;var A=a(7359),j=a(4562),F=a(4145),B=a(4886),L=a(9256),N=a(8323),U=a(1267),G=a(5125),M=a(3201),z=a(7808),H=a(1783),K=a(7953),J=(0,d.Z)(O,P,$,!1,null,null,null);const W=J.exports;v()(J,{VAlert:A.Z,VApp:Z.Z,VBtn:j.Z,VCard:F.Z,VCardText:B.ZB,VContainer:L.Z,VContent:N.Z,VFlex:U.Z,VForm:G.Z,VLayout:M.Z,VTextField:z.Z,VToolbar:H.Z,VToolbarTitle:K.qW});var Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Productos")]),a("ListProducts",{staticClass:"top"})],1)],1)},Q=[],X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{rounded:"",color:"blue darken-3",dark:""}},"v-btn",i,!1),n),[e._v(" Registrar ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Detalle*",required:""},model:{value:e.editedItem.detail,callback:function(t){e.$set(e.editedItem,"detail",t)},expression:"editedItem.detail"}})],1),a("v-col",{attrs:{cols:"12"}},[a("vuetify-money",{attrs:{label:"Valor Venta*",clearable:e.clearable,options:e.options},model:{value:e.editedItem.saleValue,callback:function(t){e.$set(e.editedItem,"saleValue",t)},expression:"editedItem.saleValue"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Codigo Barra*",required:""},model:{value:e.editedItem.barcode,callback:function(t){e.$set(e.editedItem,"barcode",t)},expression:"editedItem.barcode"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Existencia*",required:""},model:{value:e.editedItem.existence,callback:function(t){e.$set(e.editedItem,"existence",t)},expression:"editedItem.existence"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar este cobro?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" edit ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" delete ")])]}}],null,!0)})},ee=[],te=a(2482),ae=(a(9554),a(4747),a(2772),a(4916),a(5306),a(4670));const ne={data:function(){var e;return{items:[],headers:[{text:"Detalle",align:"start",sortable:!1,value:"detail"},{text:"Valor Venta",value:"saleValue2"},{text:"Existencia",value:"existence"},{text:"Acción",value:"actions",sortable:!1}],editedIndex:-1,search:"",dialog:!1,dialogDelete:!1,desserts:[],editedItem:{},supplierItem:{},clearable:!0,options:{locale:"pt-CO",prefix:"$",suffix:"",length:11,precision:2},defaultItem:{detail:"",saleValue:"",barcode:"",existence:"",supplier:"",id:""},defaultSupplierItem:(e={nit:"",supplier:"",phone:"",direction:""},(0,te.Z)(e,"supplier",""),(0,te.Z)(e,"id",""),e)}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Producto":"Editar Producto"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getProducts:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/products");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:n=t.sent,e.desserts=[],n.forEach((function(t){e.desserts.push({detail:t.detail,saleValue:t.sale_value,saleValue2:e.convert(t.sale_value),existence:t.existence,barcode:t.barcode,supplier:t.supplier,id:t.id})}));case 8:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteProduct(this.editedItem),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){if(this.editedIndex>-1)this.updateProduct(this.editedItem);else{var e=ae.generate();this.setProduct(this.editedItem,e)}this.close()},handleClick:function(e){this.$router.push("create-credit/".concat(e.id))},deleteProduct:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:q().put("api/products/inactivate/".concat(e.id)).then((function(){t.getProducts()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},updateProduct:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:q().put("api/products/update/".concat(e.id),{id:e.id,detail:e.detail,sale_value:e.saleValue,existence:e.existence,barcode:e.barcode}).then((function(){t.getProducts()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},setProduct:function(e,t){var a=this;return(0,T.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:q().post("api/products",{id:t,detail:e.detail,sale_value:e.saleValue,existence:e.existence,barcode:e.barcode}).then((function(){a.getProducts()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},convert:function(e){return(new Intl.NumberFormat).format(e)},replaceData:function(e){var t=e.replace(/\./g,"");return t.replace(",",".")}},created:function(){this.getProducts()}},ie=ne;var re=a(266),se=a(3863),oe=a(9930),le=a(9223),ce=a(1713),de=a(3687),ue=(0,d.Z)(ie,X,ee,!1,null,null,null);const ve=ue.exports;v()(ue,{VBtn:j.Z,VCard:F.Z,VCardActions:B.h7,VCardText:B.ZB,VCardTitle:B.EB,VCol:re.Z,VContainer:L.Z,VDataTable:se.Z,VDialog:oe.Z,VDivider:le.Z,VIcon:p.Z,VRow:ce.Z,VSpacer:de.Z,VTextField:z.Z,VToolbar:H.Z});const pe={data:function(){return{}},components:{ListProducts:ve}},me=pe;var fe=a(5883),he=(0,d.Z)(me,Y,Q,!1,null,null,null);const ge=he.exports;v()(he,{VBanner:fe.Z,VCard:F.Z,VContainer:L.Z});var be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Proveedores")]),a("ListSuppliers",{staticClass:"top"})],1)],1)},xe=[],_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{rounded:"",color:"blue darken-3",dark:""}},"v-btn",i,!1),n),[e._v(" Registrar ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Proveedor*",required:""},model:{value:e.editedItem.supplier,callback:function(t){e.$set(e.editedItem,"supplier",t)},expression:"editedItem.supplier"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nit*",required:""},model:{value:e.editedItem.nit,callback:function(t){e.$set(e.editedItem,"nit",t)},expression:"editedItem.nit"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Telefono*",required:""},model:{value:e.editedItem.phone,callback:function(t){e.$set(e.editedItem,"phone",t)},expression:"editedItem.phone"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Dirección*",required:""},model:{value:e.editedItem.direction,callback:function(t){e.$set(e.editedItem,"direction",t)},expression:"editedItem.direction"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar este proveedor?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" edit ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" delete ")])]}}],null,!0)})},Ie=[],ke=(a(9600),a(5069),a(3123),a(6647),a(3710),a(9714),a(4670));const Ce={data:function(){var e;return e={items:[],search:"",paiment:[],desserts:[],headers:[{text:"Nit",value:"nit"},{text:"Proveedor",value:"supplier"},{text:"Telefono",value:"phone"},{text:"Dirección",value:"direction"},{text:"Acción",value:"actions",sortable:!1}],editedIndex:-1},(0,te.Z)(e,"search",""),(0,te.Z)(e,"dialog",!1),(0,te.Z)(e,"dialogDelete",!1),(0,te.Z)(e,"desserts",[]),(0,te.Z)(e,"editedItem",{}),e},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Proveedor":"Editar Proveedor"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getSuppliers:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/suppliers");case 2:return a=t.sent,t.next=5,a.data.suppliers;case 5:e.desserts=t.sent;case 6:case"end":return t.stop()}}),t)})))()},editItem:function(e){console.log(e),this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteSupplier(this.editedItem),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){if(this.editedIndex>-1)this.updateSupplier(this.editedItem);else{var e=ke.generate();this.setSupplier(this.editedItem,e)}this.close()},updateSupplier:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:q().put("api/suppliers/update/".concat(e.id),{id:e.id,nit:e.nit,supplier:e.supplier,phone:e.phone,direction:e.direction}).then((function(){t.getSuppliers()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},deleteSupplier:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:q().put("api/suppliers/inactivate/".concat(e.id)).then((function(){t.getSuppliers()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},setSupplier:function(e,t){var a=this;return(0,T.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:q().post("api/suppliers",{id:t,supplier:e.supplier,nit:e.nit,phone:e.phone,direction:e.direction}).then((function(){a.getSuppliers()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getSuppliers()}},Ze=Ce;var we=(0,d.Z)(Ze,_e,Ie,!1,null,null,null);const Ve=we.exports;v()(we,{VBtn:j.Z,VCard:F.Z,VCardActions:B.h7,VCardText:B.ZB,VCardTitle:B.EB,VCol:re.Z,VContainer:L.Z,VDataTable:se.Z,VDialog:oe.Z,VDivider:le.Z,VIcon:p.Z,VRow:ce.Z,VSpacer:de.Z,VTextField:z.Z,VToolbar:H.Z});const ye={data:function(){return{}},components:{ListSuppliers:Ve}},Se=ye;var De=(0,d.Z)(Se,be,xe,!1,null,null,null);const Pe=De.exports;v()(De,{VBanner:fe.Z,VCard:F.Z,VContainer:L.Z});var $e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Clientes")]),a("ListClients",{staticClass:"top"})],1)],1)},Te=[],Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{rounded:"",color:"blue darken-3",dark:""}},"v-btn",i,!1),n),[e._v(" Registrar ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Cliente*",required:""},model:{value:e.editedItem.client,callback:function(t){e.$set(e.editedItem,"client",t)},expression:"editedItem.client"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Identificación*",required:""},model:{value:e.editedItem.identification,callback:function(t){e.$set(e.editedItem,"identification",t)},expression:"editedItem.identification"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Telefono*",required:""},model:{value:e.editedItem.phone,callback:function(t){e.$set(e.editedItem,"phone",t)},expression:"editedItem.phone"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Dirección*",required:""},model:{value:e.editedItem.direction,callback:function(t){e.$set(e.editedItem,"direction",t)},expression:"editedItem.direction"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar este cliente?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" edit ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" delete ")])]}}],null,!0)})},qe=[],Ee=a(4670);const Oe={data:function(){var e;return e={items:[],search:"",desserts:[],headers:[{text:"Identificación",value:"identification"},{text:"Cliente",value:"client"},{text:"Telefono",value:"phone"},{text:"Dirección",value:"direction"},{text:"Acción",value:"actions",sortable:!1}],editedIndex:-1},(0,te.Z)(e,"search",""),(0,te.Z)(e,"dialog",!1),(0,te.Z)(e,"dialogDelete",!1),(0,te.Z)(e,"desserts",[]),(0,te.Z)(e,"editedItem",{}),e},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Cliente":"Editar Cliente"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getClients:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/clients");case 2:return a=t.sent,t.next=5,a.data.clients;case 5:e.desserts=t.sent;case 6:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteClient(this.editedItem),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){if(this.editedIndex>-1)this.updateClient(this.editedItem);else{var e=Ee.generate();this.setClient(this.editedItem,e)}this.close()},updateClient:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:q().put("api/clients/update/".concat(e.id),{id:e.id,identification:e.identification,client:e.client,phone:e.phone,direction:e.direction}).then((function(){t.getClients()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},deleteClient:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:q().put("api/clients/inactivate/".concat(e.id)).then((function(){t.getClients()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},setClient:function(e,t){var a=this;return(0,T.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:q().post("api/clients",{id:t,client:e.client,identification:e.identification,phone:e.phone,direction:e.direction}).then((function(){a.getClients()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()}},created:function(){this.getClients()}},Ae=Oe;var je=(0,d.Z)(Ae,Re,qe,!1,null,null,null);const Fe=je.exports;v()(je,{VBtn:j.Z,VCard:F.Z,VCardActions:B.h7,VCardText:B.ZB,VCardTitle:B.EB,VCol:re.Z,VContainer:L.Z,VDataTable:se.Z,VDialog:oe.Z,VDivider:le.Z,VIcon:p.Z,VRow:ce.Z,VSpacer:de.Z,VTextField:z.Z,VToolbar:H.Z});const Be={data:function(){return{}},components:{ListClients:Fe}},Le=Be;var Ne=(0,d.Z)(Le,$e,Te,!1,null,null,null);const Ue=Ne.exports;v()(Ne,{VBanner:fe.Z,VCard:F.Z,VContainer:L.Z});var Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Compras")]),a("v-tabs",{attrs:{"bg-color":"primary"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",{on:{click:function(t){e.state=!e.state}}},[e._v("Registrar")]),a("v-tab",{on:{click:function(t){e.state=!e.state}}},[e._v("Listado")])],1),e.state?e._e():a("ListShopping",{staticClass:"top"}),e.state?a("NewShopping",{staticClass:"top"}):e._e()],1)],1)},Me=[],ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Producto*",hint:"Producto seleccionado","persistent-hint":"",readonly:""},model:{value:e.editedItem.detail,callback:function(t){e.$set(e.editedItem,"detail",t)},expression:"editedItem.detail"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Proveedor*",hint:"Seleccione el proveedor","persistent-hint":"",readonly:""},model:{value:e.editedItem.supplier,callback:function(t){e.$set(e.editedItem,"supplier",t)},expression:"editedItem.supplier"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Cantidad*",hint:"Digite la cantidad","persistent-hint":"",required:""},model:{value:e.editedItem.quantity,callback:function(t){e.$set(e.editedItem,"quantity",t)},expression:"editedItem.quantity"}})],1),a("v-col",{attrs:{cols:"12"}},[a("vuetify-money",{attrs:{label:"Valor Total",clearable:e.clearable,options:e.options},model:{value:e.editedItem.total_value,callback:function(t){e.$set(e.editedItem,"total_value",t)},expression:"editedItem.total_value"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.editedItem.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"date",t)},"update:return-value":function(t){return e.$set(e.editedItem,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*",hint:"Seleccione la fecha",readonly:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.editedItem.date)}}},[e._v(" Seleccionar ")])],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar esta compra?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" edit ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" delete ")])]}}],null,!0)})},He=[];a(4670);const Ke={data:function(){var e;return e={menu:!1,items:[],search:"",desserts:[],headers:[{text:"Producto",value:"detail"},{text:"Proveedor",value:"supplier"},{text:"Cantidad",value:"quantity"},{text:"Valor Unitario",value:"unit_value"},{text:"Valor Total",value:"total_value2"},{text:"Fecha",value:"date"},{text:"Acción",value:"actions",sortable:!1}],editedIndex:-1},(0,te.Z)(e,"search",""),(0,te.Z)(e,"dialog",!1),(0,te.Z)(e,"dialogDelete",!1),(0,te.Z)(e,"desserts",[]),(0,te.Z)(e,"desserts2",[]),(0,te.Z)(e,"editedItem",{}),(0,te.Z)(e,"clearable",!0),(0,te.Z)(e,"options",{locale:"pt-CO",prefix:"$",suffix:"",length:11,precision:2}),e},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Compra":"Editar Compra"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getShopping:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/transactions/getShopping");case 2:return a=t.sent,t.next=5,a.data.shopping;case 5:e.desserts2=t.sent,e.desserts=[],e.desserts2.forEach((function(t){e.desserts.push({id:t.id,detail:t.detail,quantity:t.quantity,supplier:t.supplier,total_value:t.total_value,total_value2:e.convert(t.total_value),unit_value:e.convert(t.unit_value),date:t.date})}));case 8:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteShopping(this.editedItem),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.updateShopping(this.editedItem),this.close()},updateShopping:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.total_value/e.quantity,q().put("api/transactions/updateShopping/".concat(e.id),{quantity:e.quantity,total_value:e.total_value,unit_value:n,date:e.date}).then((function(){t.getShopping()}))["catch"]((function(e){console.log(e)}));case 2:case"end":return a.stop()}}),a)})))()},deleteShopping:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:q().put("api/transactions/inactivateShopping/".concat(e.id)).then((function(){t.getShopping()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getShopping()}},Je=Ke;var We=a(1030),Ye=a(4528),Qe=(0,d.Z)(Je,ze,He,!1,null,null,null);const Xe=Qe.exports;v()(Qe,{VBtn:j.Z,VCard:F.Z,VCardActions:B.h7,VCardText:B.ZB,VCardTitle:B.EB,VCol:re.Z,VContainer:L.Z,VDataTable:se.Z,VDatePicker:We.Z,VDialog:oe.Z,VDivider:le.Z,VIcon:p.Z,VMenu:Ye.Z,VRow:ce.Z,VSpacer:de.Z,VTextField:z.Z,VToolbar:H.Z});var et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogProduct,callback:function(t){e.dialogProduct=t},expression:"dialogProduct"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Nuevo Producto")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Detalle*",required:""},model:{value:e.newProduct.detail,callback:function(t){e.$set(e.newProduct,"detail",t)},expression:"newProduct.detail"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Valor Venta*",required:""},model:{value:e.newProduct.saleValue,callback:function(t){e.$set(e.newProduct,"saleValue",t)},expression:"newProduct.saleValue"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Codigo Barra*",required:""},model:{value:e.newProduct.barcode,callback:function(t){e.$set(e.newProduct,"barcode",t)},expression:"newProduct.barcode"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Existencia*",required:""},model:{value:e.newProduct.existence,callback:function(t){e.$set(e.newProduct,"existence",t)},expression:"newProduct.existence"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDialogProduct}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveProduct}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Nuevo Proveedor")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Proveedor*",hint:"Digite el nombre del proveedor","persistent-hint":"",required:""},model:{value:e.supplierItem.supplier,callback:function(t){e.$set(e.supplierItem,"supplier",t)},expression:"supplierItem.supplier"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nit*",hint:"Digite el nit del proveedor","persistent-hint":"",required:""},model:{value:e.supplierItem.nit,callback:function(t){e.$set(e.supplierItem,"nit",t)},expression:"supplierItem.nit"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Telefono*",hint:"Digite el telefono del proveedor","persistent-hint":"",required:""},model:{value:e.supplierItem.phone,callback:function(t){e.$set(e.supplierItem,"phone",t)},expression:"supplierItem.phone"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Dirección*",hint:"Digite la dirección del proveedor","persistent-hint":"",required:""},model:{value:e.supplierItem.direction,callback:function(t){e.$set(e.supplierItem,"direction",t)},expression:"supplierItem.direction"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.setSupplier}},[e._v(" Guardar ")])],1)],1)],1),a("div",{staticClass:"shopping"},[a("div",{staticClass:"shopping__left"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"No Factura*","hide-details":"auto"},model:{value:e.shoppingItem.invoice_number,callback:function(t){e.$set(e.shoppingItem,"invoice_number",t)},expression:"shoppingItem.invoice_number"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"prepend-icon":"production_quantity_limits",items:e.items,"return-object":"",label:"Producto*","item-value":"value","item-text":"detail","no-data-text":"Producto no registrado","menu-props":{maxHeight:100}},on:{"click:prepend":function(t){e.dialogProduct=!e.dialogProduct}},model:{value:e.shoppingItem.product_id,callback:function(t){e.$set(e.shoppingItem,"product_id",t)},expression:"shoppingItem.product_id"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"prepend-icon":"person",items:e.items2,"return-object":"",label:"Proveedor*",hint:"Seleccione el proveedor","item-value":"value","item-text":"supplier","no-data-text":"Proveedor no registrado","menu-props":{maxHeight:100}},on:{"click:prepend":function(t){e.dialog=!e.dialog}},model:{value:e.shoppingItem.supplier,callback:function(t){e.$set(e.shoppingItem,"supplier",t)},expression:"shoppingItem.supplier"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Cantidad*","hide-details":"auto"},model:{value:e.shoppingItem.quantity,callback:function(t){e.$set(e.shoppingItem,"quantity",t)},expression:"shoppingItem.quantity"}})],1),a("v-col",{attrs:{cols:"6"}},[a("vuetify-money",{attrs:{label:"Valor Total*",clearable:e.clearable,options:e.options},model:{value:e.shoppingItem.total_value,callback:function(t){e.$set(e.shoppingItem,"total_value",t)},expression:"shoppingItem.total_value"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.shoppingItem.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.shoppingItem,"date",t)},"update:return-value":function(t){return e.$set(e.shoppingItem,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*",hint:"Seleccione la fecha",readonly:""},model:{value:e.shoppingItem.date,callback:function(t){e.$set(e.shoppingItem,"date",t)},expression:"shoppingItem.date"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.shoppingItem.date,callback:function(t){e.$set(e.shoppingItem,"date",t)},expression:"shoppingItem.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.shoppingItem.date)}}},[e._v(" Seleccionar ")])],1)],1)],1)],1),a("v-row",{staticClass:"flex d-flex justify-center mb-6 bg-surface-variant"},[a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"mx-2",attrs:{disabled:e.disabledForm(),fab:"",dark:"",small:"",color:"primary"},on:{click:e.saveShoppingProduct}},[a("v-icon",{attrs:{dark:""}},[e._v(" shopping_cart ")])],1)],1)],1)],1),a("div",{staticClass:"shopping__right"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.listProducs,"items-per-page":e.itemsPerPage},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-row",{staticClass:"d-flex justify-end mr-5"},[a("h2",[e._v("$"+e._s(e.totalSale))])]),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar esta compra?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" delete ")])]}}],null,!0)}),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-switch",{attrs:{color:"primary",label:"Cuenta por pagar"},on:{change:function(t){return e.change()}},model:{value:e.payable,callback:function(t){e.payable=t},expression:"payable"}})],1)],1),a("v-row",{staticClass:"flex d-flex justify-center mb-6 bg-surface-variant"},[a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"text-none mt-5 mb-4",attrs:{block:"",color:"primary",size:"x-large",variant:"flat",disabled:0===e.listProducs.length},on:{click:e.saveShopping}},[e._v(" Registrar Compra ")])],1)],1)],1)])],1)},tt=[],at=(a(3650),a(8733),a(3843),a(7327),a(4678),a(2564),a(4670));const nt={data:function(){var e;return e={dialogProduct:!1,dialog:!1,payable:!1,itemsPerPage:5,dialogDelete:!1,menu:!1,totalSale:0},(0,te.Z)(e,"dialog",!1),(0,te.Z)(e,"stateAlert",!1),(0,te.Z)(e,"newProduct",{}),(0,te.Z)(e,"editedItem",{}),(0,te.Z)(e,"supplierItem",{}),(0,te.Z)(e,"defaultnewProduct",{detail:"",saleValue:"",barcode:"",existence:"",supplier:"",id:""}),(0,te.Z)(e,"defaultSupplierItem",{detail:"",saleValue:"",barcode:"",existence:"",supplier:"",id:""}),(0,te.Z)(e,"shoppingItem",{id:"",invoice_number:"",product_id:"",supplier_id:"",quantity:"",available:"",total_value:"",date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}),(0,te.Z)(e,"defaultShoppingItem",{id:"",invoice_number:"",product_id:"",supplier_id:"",quantity:"",available:"",total_value:"",date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}),(0,te.Z)(e,"items",[]),(0,te.Z)(e,"items2",[]),(0,te.Z)(e,"defaultSaleItem",{id:"",product_id:"",quantity:"",total_value:0,unit_value:0,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}),(0,te.Z)(e,"clearable",!0),(0,te.Z)(e,"options",{locale:"pt-CO",prefix:"$",suffix:"",length:11,precision:2}),(0,te.Z)(e,"headers",[{text:"Producto",value:"detail"},{text:"Cantidad",value:"quantity"},{text:"Valor Unitario",value:"unit"},{text:"Valor Total",value:"total"},{text:"Acción",value:"actions",sortable:!1}]),(0,te.Z)(e,"listProducs",[]),(0,te.Z)(e,"myArray",[]),e},watch:{dialogDelete:function(e){e||this.closeDelete()}},methods:{getSuppliers:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/suppliers");case 2:return a=t.sent,t.next=5,a.data.suppliers;case 5:e.items2=t.sent;case 6:case"end":return t.stop()}}),t)})))()},getProducts:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/products");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:n=t.sent,e.items=[],n.forEach((function(t){e.items.push({detail:t.detail,saleValue:t.sale_value,existence:t.existence,barcode:t.barcode,supplier:t.supplier,id:t.id})}));case 8:case"end":return t.stop()}}),t)})))()},saveShoppingProduct:function(){this.listProducs.push({product_id:this.shoppingItem.product_id.id,detail:this.shoppingItem.product_id.detail,quantity:this.shoppingItem.quantity,unit:this.convert(this.shoppingItem.total_value/this.shoppingItem.quantity),total:this.convert(this.shoppingItem.total_value),date:this.shoppingItem.date,invoice_number:this.shoppingItem.invoice_number,supplier_id:this.shoppingItem.supplier.id,id:at.generate()}),this.calculateTotalShopping(),this.shoppingItem.product_id="",this.shoppingItem.quantity="",this.shoppingItem.total_value=""},deleteItem:function(e){this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteSaleProduct(this.editedItem),this.dialogDelete=!1},deleteSaleProduct:function(e){this.listProducs=this.listProducs.filter((function(t){return t.id!==e.id})),this.calculateTotalShopping()},calculateTotalShopping:function(){var e=this,t=0,a=0;this.listProducs.forEach((function(n){a=parseFloat(e.replaceData(n.total)),t+=a})),this.totalSale=this.convert(t)},saveShopping:function(){var e=this,t=at.generate(),a={id:t,supplier_id:this.shoppingItem.supplier.id,date:this.listProducs[0].date};this.listProducs.forEach((function(a){e.myArray.push(new Array(a.id,a.invoice_number,a.product_id,a.supplier_id,e.replaceData(a.unit),a.quantity,e.replaceData(a.total),t,a.date))})),this.setShopping(this.myArray,a)},setShopping:function(e,t){var a=this;return(0,T.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:q().post("api/transactions/saveShopping",{data:e,data2:a.listProducs,data3:t,payable:a.payable}).then((function(){a.getProducts(),a.payable=!1,a.myArray=[],a.stateAlert=!0,a.totalSale=0,a.listProducs=[],setTimeout((function(){a.stateAlert=!1}),"500")}))["catch"]((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},close:function(){this.dialog=!1,this.supplierItem=Object.assign({},this.defaultSupplierItem)},setSupplier:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=at.generate(),q().post("api/suppliers",{id:a,nit:e.supplierItem.nit,phone:e.supplierItem.phone,direction:e.supplierItem.direction,supplier:e.supplierItem.supplier}).then((function(){e.close(),e.getSuppliers()}))["catch"]((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},saveProduct:function(){var e=at.generate();this.setProduct(this.newProduct,e),this.closeDialogProduct()},closeDialogProduct:function(){this.dialogProduct=!1,this.newProduct=Object.assign({},this.defaultnewProduct)},setProduct:function(e,t){var a=this;return(0,T.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:q().post("api/products",{id:t,detail:e.detail,sale_value:e.saleValue,existence:e.existence,barcode:e.barcode}).then((function(){a.getProducts()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},disabledForm:function(){if(""===this.shoppingItem.invoice_number||!this.shoppingItem.supplier||!this.shoppingItem.product_id||""===this.shoppingItem.quantity||""===this.shoppingItem.total_value||""===this.shoppingItem.date)return!0},change:function(){payable=!payable},convert:function(e){return(new Intl.NumberFormat).format(e)},replaceData:function(e){var t=e.replace(/\./g,"");return t.replace(",",".")}},created:function(){this.getProducts(),this.getSuppliers()}},it=nt;var rt=a(344),st=a(1023),ot=(0,d.Z)(it,et,tt,!1,null,"47cf9c4b",null);const lt=ot.exports;v()(ot,{VAutocomplete:rt.Z,VBtn:j.Z,VCard:F.Z,VCardActions:B.h7,VCardText:B.ZB,VCardTitle:B.EB,VCol:re.Z,VContainer:L.Z,VDataTable:se.Z,VDatePicker:We.Z,VDialog:oe.Z,VIcon:p.Z,VMenu:Ye.Z,VRow:ce.Z,VSpacer:de.Z,VSwitch:st.Z,VTextField:z.Z,VToolbar:H.Z});const ct={data:function(){return{state:!0}},components:{ListShopping:Xe,NewShopping:lt}},dt=ct;var ut=a(626),vt=a(762),pt=(0,d.Z)(dt,Ge,Me,!1,null,null,null);const mt=pt.exports;v()(pt,{VBanner:fe.Z,VCard:F.Z,VContainer:L.Z,VTab:ut.Z,VTabs:vt.Z});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Ventas")]),a("v-tabs",{attrs:{"bg-color":"primary"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab",{on:{click:function(t){e.state=!e.state}}},[e._v("Registrar")]),a("v-tab",{on:{click:function(t){e.state=!e.state}}},[e._v("Listado")])],1),e.state?e._e():a("ListShopping",{staticClass:"top"}),e.state?a("NewShopping",{staticClass:"top"}):e._e()],1)],1)},ht=[],gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Producto*",hint:"Producto seleccionado","persistent-hint":"",readonly:""},model:{value:e.editedItem.detail,callback:function(t){e.$set(e.editedItem,"detail",t)},expression:"editedItem.detail"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Proveedor*",hint:"Seleccione el proveedor","persistent-hint":"",readonly:""},model:{value:e.editedItem.supplier,callback:function(t){e.$set(e.editedItem,"supplier",t)},expression:"editedItem.supplier"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Cantidad*",hint:"Digite la cantidad","persistent-hint":"",required:""},model:{value:e.editedItem.quantity,callback:function(t){e.$set(e.editedItem,"quantity",t)},expression:"editedItem.quantity"}})],1),a("v-col",{attrs:{cols:"12"}},[a("vuetify-money",{attrs:{label:"Valor Total",clearable:e.clearable,options:e.options},model:{value:e.editedItem.total_value,callback:function(t){e.$set(e.editedItem,"total_value",t)},expression:"editedItem.total_value"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.editedItem.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"date",t)},"update:return-value":function(t){return e.$set(e.editedItem,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*",hint:"Seleccione la fecha",readonly:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.editedItem.date)}}},[e._v(" Seleccionar ")])],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar esta compra?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" edit ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" delete ")])]}}],null,!0)})},bt=[];a(4670);const xt={data:function(){var e;return e={menu:!1,items:[],search:"",desserts:[],headers:[{text:"Producto",value:"detail"},{text:"Cantidad",value:"quantity"},{text:"Valor Unitario",value:"unit_value"},{text:"Valor Total",value:"total_value2"},{text:"Fecha",value:"date"},{text:"Acción",value:"actions",sortable:!1}],editedIndex:-1},(0,te.Z)(e,"search",""),(0,te.Z)(e,"dialog",!1),(0,te.Z)(e,"dialogDelete",!1),(0,te.Z)(e,"desserts",[]),(0,te.Z)(e,"desserts2",[]),(0,te.Z)(e,"editedItem",{}),(0,te.Z)(e,"clearable",!0),(0,te.Z)(e,"options",{locale:"pt-CO",prefix:"$",suffix:"",length:11,precision:2}),e},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Compra":"Editar Compra"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getSales:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/transactions/getSales");case 2:return a=t.sent,t.next=5,a.data.shopping;case 5:e.desserts2=t.sent,e.desserts=[],e.desserts2.forEach((function(t){e.desserts.push({id:t.id,detail:t.detail,quantity:t.quantity,unit_value:e.convert(t.sale_value),total_value:t.sale_value*t.quantity,total_value2:e.convert(t.sale_value*t.quantity),date:t.date})}));case 8:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteShopping(this.editedItem),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.updateShopping(this.editedItem),this.close()},updateShopping:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.total_value/e.quantity,q().put("api/transactions/updateShopping/".concat(e.id),{quantity:e.quantity,total_value:e.total_value,unit_value:n,date:e.date}).then((function(){t.getSales()}))["catch"]((function(e){console.log(e)}));case 2:case"end":return a.stop()}}),a)})))()},deleteShopping:function(e){var t=this;return(0,T.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:q().put("api/transactions/inactivateShopping/".concat(e.id)).then((function(){t.getSales()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return a.stop()}}),a)})))()},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getSales()}},_t=xt;var It=(0,d.Z)(_t,gt,bt,!1,null,null,null);const kt=It.exports;v()(It,{VBtn:j.Z,VCard:F.Z,VCardActions:B.h7,VCardText:B.ZB,VCardTitle:B.EB,VCol:re.Z,VContainer:L.Z,VDataTable:se.Z,VDatePicker:We.Z,VDialog:oe.Z,VDivider:le.Z,VIcon:p.Z,VMenu:Ye.Z,VRow:ce.Z,VSpacer:de.Z,VTextField:z.Z,VToolbar:H.Z});var Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogClient,callback:function(t){e.dialogClient=t},expression:"dialogClient"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Nuevo Cliente")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Cliente*",hint:"Digite el nombre del cliente","persistent-hint":"",required:""},model:{value:e.newClient.client,callback:function(t){e.$set(e.newClient,"client",t)},expression:"newClient.client"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Identificación*",hint:"Digite la identificación del cliente","persistent-hint":"",required:""},model:{value:e.newClient.identification,callback:function(t){e.$set(e.newClient,"identification",t)},expression:"newClient.identification"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Telefono*",hint:"Digite el telefono del cliente","persistent-hint":"",required:""},model:{value:e.newClient.phone,callback:function(t){e.$set(e.newClient,"phone",t)},expression:"newClient.phone"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Dirección*",hint:"Digite la dirección del cliente","persistent-hint":"",required:""},model:{value:e.newClient.direction,callback:function(t){e.$set(e.newClient,"direction",t)},expression:"newClient.direction"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDialogClient}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveClient}},[e._v(" Guardar ")])],1)],1)],1),a("div",{staticClass:"sale"},[a("div",{staticClass:"sale__left"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:e.items,"return-object":"",label:"Producto*","item-value":"value","item-text":"detail","no-data-text":"Producto no registrado","menu-props":{maxHeight:100}},on:{change:function(t){return e.getStatusProduct()}},model:{value:e.saleItem.product_id,callback:function(t){e.$set(e.saleItem,"product_id",t)},expression:"saleItem.product_id"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Cantidad"},on:{keyup:function(t){return e.calculateTotal()}},model:{value:e.saleItem.quantity,callback:function(t){e.$set(e.saleItem,"quantity",t)},expression:"saleItem.quantity"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Disponible"},model:{value:e.saleItem.existence,callback:function(t){e.$set(e.saleItem,"existence",t)},expression:"saleItem.existence"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("vuetify-money",{attrs:{label:"Valor Unitario",clearable:e.clearable,options:e.options},model:{value:e.saleItem.unit_value,callback:function(t){e.$set(e.saleItem,"unit_value",t)},expression:"saleItem.unit_value"}})],1),a("v-col",{attrs:{cols:"12"}},[a("vuetify-money",{attrs:{label:"Valor Total",readonly:"readonly",options:e.options},model:{value:e.saleItem.total_value,callback:function(t){e.$set(e.saleItem,"total_value",t)},expression:"saleItem.total_value"}})],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.saleItem.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.saleItem,"date",t)},"update:return-value":function(t){return e.$set(e.saleItem,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*",hint:"Seleccione la fecha",readonly:""},model:{value:e.saleItem.date,callback:function(t){e.$set(e.saleItem,"date",t)},expression:"saleItem.date"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.saleItem.date,callback:function(t){e.$set(e.saleItem,"date",t)},expression:"saleItem.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.saleItem.date)}}},[e._v(" Seleccionar ")])],1)],1)],1),a("v-row",{staticClass:"flex d-flex justify-center mb-6 bg-surface-variant"},[a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"mx-2",attrs:{disabled:e.disabledForm(),fab:"",dark:"",small:"",color:"primary"},on:{click:e.saveSaleProduct}},[a("v-icon",{attrs:{dark:""}},[e._v(" shopping_cart ")])],1)],1)],1)],1),a("div",{staticClass:"sale__right"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.listProducs,"items-per-page":e.itemsPerPage},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-row",{staticClass:"d-flex justify-end mr-5"},[a("h2",[e._v("$"+e._s(e.totalSale))])]),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Esta seguro de eliminar esta compra?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Eliminar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" delete ")])]}}],null,!0)}),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-switch",{attrs:{color:"primary",label:"Cuenta por cobrar"},on:{change:function(t){return e.change()}},model:{value:e.receivable,callback:function(t){e.receivable=t},expression:"receivable"}})],1),e.receivable?a("v-col",[a("v-autocomplete",{attrs:{"prepend-icon":"person",items:e.clients,"return-object":"","item-value":"value","item-text":"client","no-data-text":"Cliente no registrado","menu-props":{maxHeight:100}},on:{"click:prepend":function(t){e.dialogClient=!e.dialogClient}},model:{value:e.clients,callback:function(t){e.clients=t},expression:"clients"}})],1):e._e()],1),a("v-row",{staticClass:"flex d-flex justify-center mb-6 bg-surface-variant"},[a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"text-none mt-5 mb-4",attrs:{block:"",color:"primary",size:"x-large",variant:"flat",disabled:e.disabledForm2()},on:{click:e.saveSale}},[e._v(" Registrar Venta ")])],1)],1)],1)])],1)},Zt=[],wt=(a(1058),a(4670));const Vt={data:function(){return{dialogClient:!1,receivable:!1,itemsPerPage:5,dialogDelete:!1,menu:!1,totalSale:0,dialog:!1,stateAlert:!1,editedItem:{},newClient:{},defaultNewClient:{client:"",identification:"",phone:"",direction:""},saleItem:{id:"",product_id:"",existence:"",quantity:"",total_value:0,unit_value:0,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},items:[],clients:[],defaultSaleItem:{id:"",product_id:"",quantity:"",total_value:0,unit_value:0,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},clearable:!0,options:{locale:"pt-CO",prefix:"$",suffix:"",length:11,precision:2},headers:[{text:"Producto",value:"detail"},{text:"Cantidad",value:"quantity"},{text:"Valor Unitario",value:"unit"},{text:"Valor Total",value:"total"},{text:"Acción",value:"actions",sortable:!1}],listProducs:[],myArray:[]}},watch:{dialogDelete:function(e){e||this.closeDelete()}},methods:{getStatusProduct:function(){this.saleItem.unit_value=this.saleItem.product_id.saleValue,this.saleItem.existence=this.saleItem.product_id.existence},getClients:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/clients");case 2:return a=t.sent,t.next=5,a.data.clients;case 5:e.clients=t.sent;case 6:case"end":return t.stop()}}),t)})))()},calculateTotal:function(){this.saleItem.total_value=this.saleItem.unit_value*this.saleItem.quantity},getProducts:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/products");case 2:return a=t.sent,t.next=5,a.data.desserts;case 5:n=t.sent,e.items=[],n.forEach((function(t){e.items.push({detail:t.detail,saleValue:t.sale_value,existence:t.existence,barcode:t.barcode,supplier:t.supplier,id:t.id})}));case 8:case"end":return t.stop()}}),t)})))()},saveSaleProduct:function(){this.listProducs.push({product_id:this.saleItem.product_id.id,detail:this.saleItem.product_id.detail,existence:this.saleItem.product_id.existence,quantity:this.saleItem.quantity,unit:this.convert(this.saleItem.unit_value),total:this.convert(this.saleItem.total_value),date:this.saleItem.date,id:wt.generate()}),this.calculateTotalSale(),this.saleItem=Object.assign({},this.defaultSaleItem)},deleteItem:function(e){this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteSaleProduct(this.editedItem),this.closeDelete()},deleteSaleProduct:function(e){this.listProducs=this.listProducs.filter((function(t){return t.id!==e.id})),this.calculateTotalSale()},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.saleItem=Object.assign({},e.defaultSaleItem)}))},calculateTotalSale:function(){var e=0,t=0;this.listProducs.forEach((function(a){t=parseInt(a.total.replace(/\./g,"")),e+=t})),this.totalSale=this.convert(e)},saveSale:function(){var e=this,t=wt.generate(),a={id:t,client_id:this.clients.id,date:this.listProducs[0].date};this.listProducs.forEach((function(a){e.myArray.push(new Array(a.id,a.product_id,a.quantity,a.unit.replace(/\./g,""),a.date,t))})),this.setSale(this.myArray,a)},setSale:function(e,t){var a=this;return(0,T.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:q().post("api/transactions/saveSale",{data:e,data2:a.listProducs,data3:t,receivable:a.receivable}).then((function(){a.getProducts(),a.receivable=!1,a.myArray=[],a.stateAlert=!0,a.totalSale=0,a.listProducs=[],a.saleItem=Object.assign({},a.defaultSaleItem),setTimeout((function(){a.stateAlert=!1}),"500")}))["catch"]((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},saveClient:function(){var e=wt.generate();this.setClient(this.newClient,e),this.closeDialogClient()},closeDialogClient:function(){this.dialogClient=!1,this.newClient=Object.assign({},this.defaultNewClient)},setClient:function(e,t){var a=this;return(0,T.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:q().post("api/clients",{id:t,client:e.client,identification:e.identification,phone:e.phone,direction:e.direction}).then((function(){a.getClients()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},disabledForm:function(){if(this.saleItem.quantity>this.saleItem.existence||""===this.saleItem.product_id||""===this.saleItem.quantity||""===this.saleItem.unit_value||""===this.saleItem.total_value||""===this.saleItem.date)return!0},disabledForm2:function(){this.clients.id;return!(!this.receivable||this.clients.id)||0===this.listProducs.length},change:function(){receivable=!receivable},convert:function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}},created:function(){this.getProducts(),this.getClients()}},yt=Vt;var St=(0,d.Z)(yt,Ct,Zt,!1,null,"ac42e6ba",null);const Dt=St.exports;v()(St,{VAutocomplete:rt.Z,VBtn:j.Z,VCard:F.Z,VCardActions:B.h7,VCardText:B.ZB,VCardTitle:B.EB,VCol:re.Z,VContainer:L.Z,VDataTable:se.Z,VDatePicker:We.Z,VDialog:oe.Z,VIcon:p.Z,VMenu:Ye.Z,VRow:ce.Z,VSpacer:de.Z,VSwitch:st.Z,VTextField:z.Z,VToolbar:H.Z});const Pt={data:function(){return{state:!0}},components:{ListShopping:kt,NewShopping:Dt}},$t=Pt;var Tt=(0,d.Z)($t,ft,ht,!1,null,null,null);const Rt=Tt.exports;v()(Tt,{VBanner:fe.Z,VCard:F.Z,VContainer:L.Z,VTab:ut.Z,VTabs:vt.Z});var qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"dashboard__header"},[a("Header")],1),a("div",{staticClass:"dashboard__content"},[a("div",{staticClass:"dashboard__content__left"},[a("Menu")],1),a("div",{staticClass:"dashboard__content__right"},[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"pl-6 pr-10"},[a("router-view")],1)],1)],1)],1)])])},Et=[],Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",{staticClass:"header__left"},[n("h2",{staticClass:"header__left__title"},[e._v("¡Bienvenido! "+e._s(e.name))])]),n("div",{staticClass:"header__right"},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("div",e._g({staticClass:"circle"},i),[n("v-avatar",[n("img",{attrs:{src:a(8806),alt:"John"}})])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item-group",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s("Mi Perfil")},on:{click:function(t){return e.signOut()}}})],1)],1)],1)],1),n("v-list",{attrs:{dense:""}},[n("v-list-item-group",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s("Cerrar Sesión")},on:{click:function(t){return e.signOut()}}})],1)],1)],1)],1)],1)],1)])},At=[];const jt={data:function(){return{hideDetails:!0,searchText:null,name:"",items:[{key:"logout",title:"Logout"}],userRole:null}},methods:{signOut:function(){window.localStorage.clear(),this.$router.push("/")},getName:function(){this.name=window.localStorage.getItem("nameUser")}},created:function(){this.getName()}},Ft=jt;var Bt=a(3423),Lt=a(7912),Nt=(0,d.Z)(Ft,Ot,At,!1,null,"1b0f14ed",null);const Ut=Nt.exports;v()(Nt,{VAvatar:Bt.Z,VList:m.Z,VListItem:h.Z,VListItemContent:g.km,VListItemGroup:Lt.Z,VListItemTitle:g.V9,VMenu:Ye.Z});const Gt={components:{Menu:_,Header:Ut},created:function(){},methods:{}},Mt=Gt;var zt=(0,d.Z)(Mt,qt,Et,!1,null,"67946949",null);const Ht=zt.exports;v()(zt,{VCol:re.Z,VContainer:L.Z,VRow:ce.Z});var Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Ingresos vs Egresos")]),a("DetailGraphicState",{staticClass:"top"})],1)],1)},Jt=[],Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.date1,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date1=t},"update:return-value":function(t){e.date1=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha Inicial",hint:"Seleccione la fecha",readonly:""},model:{value:e.date1,callback:function(t){e.date1=t},expression:"date1"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.date1,callback:function(t){e.date1=t},expression:"date1"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.date1)}}},[e._v(" Seleccionar ")])],1)],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":e.date2,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date2=t},"update:return-value":function(t){e.date2=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha Final",hint:"Seleccione la fecha",readonly:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu2=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu2.save(e.date2)}}},[e._v(" Seleccionar ")])],1)],1)],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){return e.getGraphicState()}}},[a("v-icon",{attrs:{dark:""}},[e._v(" search ")])],1)],1)],1),a("div",{staticClass:"content"},[a("Doughnut",{ref:"pie",attrs:{"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":e.chartId,"dataset-id-key":e.datasetIdKey,plugins:e.plugins,"css-classes":e.cssClasses,styles:e.styles,width:e.width,height:e.height}})],1)],1)},Yt=[],Qt=(a(9653),a(2222),a(7889)),Xt=a(6300);Xt.kL.register(Xt.Dx,Xt.u,Xt.De,Xt.qi,Xt.uw);const ea={name:"DoughnutChart",components:{Doughnut:Qt.$I},props:{chartId:{type:String,default:"doughnut-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Array,default:function(){return[]}}},data:function(){return{date1:"",date2:"",items:[],paiment:[],state:!1,chartData:{labels:["Ingresos","Egresos"],datasets:[{backgroundColor:["#2196F3","#FF5252"],data:[100,0]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1}}},methods:{getGraphicState:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/transactions/getIncomeExpenses/".concat(e.date1,"/date2/").concat(e.date2));case 2:return a=t.sent,t.next=5,a.data.state;case 5:n=t.sent,e.chartData.datasets[0].data=[],e.chartData.datasets[0].data[0]=n[0].total_sale,e.chartData.datasets[0].data[1]=n[0].total_shopping;case 9:case"end":return t.stop()}}),t)})))()}}},ta=ea;var aa=(0,d.Z)(ta,Wt,Yt,!1,null,null,null);const na=aa.exports;v()(aa,{VBtn:j.Z,VCol:re.Z,VContainer:L.Z,VDatePicker:We.Z,VIcon:p.Z,VMenu:Ye.Z,VRow:ce.Z,VSpacer:de.Z,VTextField:z.Z});const ia={name:"EditPaids",data:function(){return{}},components:{DetailGraphicState:na},props:{}},ra=ia;var sa=(0,d.Z)(ra,Kt,Jt,!1,null,null,null);const oa=sa.exports;v()(sa,{VBanner:fe.Z,VCard:F.Z,VContainer:L.Z});var la=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Utilidades")]),a("DetailUtilities",{staticClass:"top"})],1)],1)},ca=[],da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.date1,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date1=t},"update:return-value":function(t){e.date1=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha Inicial",hint:"Seleccione la fecha",readonly:""},model:{value:e.date1,callback:function(t){e.date1=t},expression:"date1"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.date1,callback:function(t){e.date1=t},expression:"date1"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.date1)}}},[e._v(" Seleccionar ")])],1)],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":e.date2,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date2=t},"update:return-value":function(t){e.date2=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha Final",hint:"Seleccione la fecha",readonly:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu2=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu2.save(e.date2)}}},[e._v(" Seleccionar ")])],1)],1)],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){return e.getUtilities()}}},[a("v-icon",{attrs:{dark:""}},[e._v(" search ")])],1)],1)],1),e.state?a("div",[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[a("h3",[e._v("Productos")])]),a("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[a("h3",[e._v("Total Compras")])]),a("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[a("h3",[e._v("Total Ventas")])]),a("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[a("h3",[e._v("Utilidades")])])],1),a("v-divider"),e._l(e.desserts,(function(t){return a("div",{staticClass:"mt-5"},[a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[e._v(" "+e._s(t.detail)+" ")]),a("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[e._v(" $"+e._s(e.convert(t.total_shopping))+" ")]),a("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[e._v(" $"+e._s(e.convert(t.total_sale))+" ")]),a("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[e._v(" $"+e._s(e.convert(t.total_sale-t.total_shopping))+" ")])],1),a("v-divider")],1)})),a("v-row",{staticClass:"mt-5"},[a("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[a("h3",[e._v("Totales")])]),a("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[a("h3",[e._v("$"+e._s(e.calculateShopping()))])]),a("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[a("h3",[e._v("$"+e._s(e.calculateSales()))])]),a("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[a("h3",[e._v("$"+e._s(e.calculateTotal()))])])],1)],2):e._e()],1)},ua=[];const va={data:function(){return{desserts:[],state:!1}},methods:{getUtilities:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/transactions/getUtilities/".concat(e.date1,"/date2/").concat(e.date2));case 2:return a=t.sent,t.next=5,a.data.utilities;case 5:e.desserts=t.sent,e.state=!0;case 7:case"end":return t.stop()}}),t)})))()},convert:function(e){return(new Intl.NumberFormat).format(e)},calculateSales:function(){var e=0;return this.desserts.forEach((function(t){e+=t.total_sale})),this.convert(e)},calculateShopping:function(){var e=0;return this.desserts.forEach((function(t){e+=t.total_shopping})),this.convert(e)},calculateTotal:function(){var e=0;return this.desserts.forEach((function(t){e+=t.total_sale-t.total_shopping})),this.convert(e)}}},pa=va;var ma=(0,d.Z)(pa,da,ua,!1,null,"3a9b0e03",null);const fa=ma.exports;v()(ma,{VBtn:j.Z,VCol:re.Z,VContainer:L.Z,VDatePicker:We.Z,VDivider:le.Z,VIcon:p.Z,VMenu:Ye.Z,VRow:ce.Z,VSpacer:de.Z,VTextField:z.Z});const ha={data:function(){return{}},components:{DetailUtilities:fa}},ga=ha;var ba=(0,d.Z)(ga,la,ca,!1,null,null,null);const xa=ba.exports;v()(ba,{VBanner:fe.Z,VCard:F.Z,VContainer:L.Z});var _a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Cuentas por pagar")]),a("ListPayable",{staticClass:"top"})],1)],1)},Ia=[],ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Registrar Abono")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.editedItem.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"date",t)},"update:return-value":function(t){return e.$set(e.editedItem,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*",hint:"Seleccione la fecha",readonly:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.editedItem.date)}}},[e._v(" Seleccionar ")])],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("vuetify-money",{attrs:{label:"Valor*",clearable:e.clearable,options:e.options},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Saldo Pendiente*",required:""},model:{value:e.editedItem.balance,callback:function(t){e.$set(e.editedItem,"balance",t)},expression:"editedItem.balance"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",disabled:e.calculatePaid(),text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" paid ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.detailPayment(n)}}},[e._v(" remove_red_eye ")])]}}],null,!0)})},Ca=[],Za=a(4670);const wa={data:function(){var e;return e={items:[],search:"",desserts:[],headers:[{text:"Proveedor",value:"supplier"},{text:"Fecha",value:"date"},{text:"Total Cuenta",value:"total_shopping"},{text:"Total Abonos",value:"total_payments"},{text:"Saldo",value:"balance"},{text:"Acción",value:"actions",sortable:!1}]},(0,te.Z)(e,"search",""),(0,te.Z)(e,"dialog",!1),(0,te.Z)(e,"menu",!1),(0,te.Z)(e,"desserts",[]),(0,te.Z)(e,"editedItem",{}),(0,te.Z)(e,"defaultEditedItem",{id:"",value:"",date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}),(0,te.Z)(e,"clearable",!0),(0,te.Z)(e,"options",{locale:"pt-CO",prefix:"$",suffix:"",length:11,precision:2}),e},methods:{getReceivables:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/transactions/getPayables");case 2:return a=t.sent,t.next=5,a.data.payables;case 5:n=t.sent,e.desserts=[],n.forEach((function(t){e.desserts.push({supplier:t.supplier,date:t.date,total_shopping:e.convert(t.total_shopping),total_payments:e.convert(t.total_payments),balance:e.convert(t.total_shopping-t.total_payments),balance2:t.total_shopping-t.total_payments,payable_id:t.id})}));case 8:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedItem=Object.assign({},e),this.dialog=!0},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultEditedItem)}))},save:function(){var e=Za.generate();this.setPaidPayable(this.editedItem,e)},setPaidPayable:function(e,t){var a=this;return(0,T.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:q().post("api/transactions/savePaidPayable",{id:t,payable_id:e.payable_id,value:e.value,date:e.date,balance:e.balance2}).then((function(){a.close(),a.getReceivables()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},calculatePaid:function(){return parseInt(this.editedItem.value)>this.editedItem.balance2},replaceData:function(e){var t=e.replace(/\./g,"");return t.replace(",",".")},convert:function(e){return(new Intl.NumberFormat).format(e)}},created:function(){this.getReceivables()}},Va=wa;var ya=(0,d.Z)(Va,ka,Ca,!1,null,null,null);const Sa=ya.exports;v()(ya,{VBtn:j.Z,VCard:F.Z,VCardActions:B.h7,VCardText:B.ZB,VCardTitle:B.EB,VCol:re.Z,VContainer:L.Z,VDataTable:se.Z,VDatePicker:We.Z,VDialog:oe.Z,VDivider:le.Z,VIcon:p.Z,VMenu:Ye.Z,VRow:ce.Z,VSpacer:de.Z,VTextField:z.Z,VToolbar:H.Z});const Da={data:function(){return{}},components:{ListPayable:Sa}},Pa=Da;var $a=(0,d.Z)(Pa,_a,Ia,!1,null,null,null);const Ta=$a.exports;v()($a,{VBanner:fe.Z,VCard:F.Z,VContainer:L.Z});var Ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"cards",attrs:{elevation:"5"}},[a("v-banner",{attrs:{color:"blue darken-3",dark:"",elevation:"7",icon:"$mdiAccount"}},[e._v("Cuentas por cobrar")]),a("ListReceivable",{staticClass:"top"})],1)],1)},qa=[],Ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Registrar Abono")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.editedItem.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"date",t)},"update:return-value":function(t){return e.$set(e.editedItem,"date",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha*",hint:"Seleccione la fecha",readonly:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.editedItem.date)}}},[e._v(" Seleccionar ")])],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("vuetify-money",{attrs:{label:"Valor*",clearable:e.clearable,options:e.options},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Saldo Pendiente*",required:""},model:{value:e.editedItem.balance,callback:function(t){e.$set(e.editedItem,"balance",t)},expression:"editedItem.balance"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",disabled:e.calculatePaid(),text:""},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v(" paid ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.detailPayment(n)}}},[e._v(" remove_red_eye ")])]}}],null,!0)})},Oa=[],Aa=a(4670);const ja={data:function(){var e;return e={items:[],search:"",desserts:[],headers:[{text:"Cliente",value:"client"},{text:"Fecha",value:"date"},{text:"Total Cuenta",value:"total_sale"},{text:"Total Abonos",value:"total_payments"},{text:"Saldo",value:"balance"},{text:"Acción",value:"actions",sortable:!1}]},(0,te.Z)(e,"search",""),(0,te.Z)(e,"dialog",!1),(0,te.Z)(e,"menu",!1),(0,te.Z)(e,"desserts",[]),(0,te.Z)(e,"editedItem",{}),(0,te.Z)(e,"defaultEditedItem",{id:"",value:"",date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}),(0,te.Z)(e,"clearable",!0),(0,te.Z)(e,"options",{locale:"pt-CO",prefix:"$",suffix:"",length:11,precision:2}),e},methods:{getReceivables:function(){var e=this;return(0,T.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q().get("api/transactions/getReceivables");case 2:return a=t.sent,t.next=5,a.data.receivables;case 5:n=t.sent,e.desserts=[],n.forEach((function(t){e.desserts.push({client:t.client,date:t.date,total_sale:e.convert(t.total_sale),total_payments:e.convert(t.total_payments),balance:e.convert(t.total_sale-t.total_payments),balance2:t.total_sale-t.total_payments,receivable_id:t.id})}));case 8:case"end":return t.stop()}}),t)})))()},editItem:function(e){this.editedItem=Object.assign({},e),this.dialog=!0},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultEditedItem)}))},save:function(){var e=Aa.generate();this.setPaidReceivable(this.editedItem,e)},setPaidReceivable:function(e,t){var a=this;return(0,T.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:q().post("api/transactions/savePaidReceivable",{id:t,receivable_id:e.receivable_id,value:e.value,date:e.date,balance:e.balance2}).then((function(){a.close(),a.getReceivables()}))["catch"]((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),n)})))()},calculatePaid:function(){return parseInt(this.editedItem.value)>this.editedItem.balance2},replaceData:function(e){var t=e.replace(/\./g,"");return t.replace(",",".")},convert:function(e){return(new Intl.NumberFormat).format(e)}},created:function(){this.getReceivables()}},Fa=ja;var Ba=(0,d.Z)(Fa,Ea,Oa,!1,null,null,null);const La=Ba.exports;v()(Ba,{VBtn:j.Z,VCard:F.Z,VCardActions:B.h7,VCardText:B.ZB,VCardTitle:B.EB,VCol:re.Z,VContainer:L.Z,VDataTable:se.Z,VDatePicker:We.Z,VDialog:oe.Z,VDivider:le.Z,VIcon:p.Z,VMenu:Ye.Z,VRow:ce.Z,VSpacer:de.Z,VTextField:z.Z,VToolbar:H.Z});const Na={data:function(){return{}},components:{ListReceivable:La}},Ua=Na;var Ga=(0,d.Z)(Ua,Ra,qa,!1,null,null,null);const Ma=Ga.exports;v()(Ga,{VBanner:fe.Z,VCard:F.Z,VContainer:L.Z}),n.Z.use(D.Z);var za=[{path:"/",name:"Home",component:W},{path:"/dashboard",name:"Dashboard",component:Ht,children:[{path:"/register-product",name:"RegisterProduct",component:ge,meta:{requiresAuth:!0}},{path:"/list-suppliers",name:"ListSuppliers",component:Pe,meta:{requiresAuth:!0}},{path:"/detail-utilities",name:"DetailUtilities",component:xa,meta:{requiresAuth:!0}},{path:"/list-clients",name:"ListClients",component:Ue,meta:{requiresAuth:!0}},{path:"/list-shopping",name:"ListShopping",component:mt,meta:{requiresAuth:!0}},{path:"/list-sales",name:"ListSales",component:Rt,meta:{requiresAuth:!0}},{path:"/list-receivable",name:"ListReceivalbe",component:Ma,meta:{requiresAuth:!0}},{path:"/list-payable",name:"ListPayable",component:Ta,meta:{requiresAuth:!0}},{path:"/graphic-state",name:"GraphicState",props:!0,component:oa,meta:{requiresAuth:!0}}]}],Ha=new D.Z({mode:"history",base:"/",routes:za});const Ka=Ha;var Ja=a(629);n.Z.use(Ja.ZP);const Wa=new Ja.ZP.Store({state:{desserts:[]},getters:{},mutations:{},actions:{},modules:{}});var Ya=a(1705);n.Z.use(Ya.Z);const Qa=new Ya.Z({theme:{options:{customProperties:!0},themes:{light:{primary:"#007BFF",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},icons:{iconfont:"md"}}),Xa={install:function(e){e.filter("transformValue",(function(e){if(!isNaN(e))return e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1."),e=e.split("").reverse().join("").replace(/^[\.]/,""),e}))}};var en=a(3534);n.Z.use(en.Z);n.Z.config.productionTip=!1,n.Z.use(Xa),q().defaults.baseURL="https://backinventory-production.up.railway.app/",Ka.beforeEach((function(e,t,a){if(e.matched.some((function(e){return e.meta.requiresAuth}))){var n=window.localStorage.getItem("authToken");n?a():Ka.push("/")}else a()})),new n.Z({router:Ka,store:Wa,vuetify:Qa,render:function(e){return e(S)}}).$mount("#app")},8806:(e,t,a)=>{e.exports=a.p+"img/distiller.cb4dc2f3.jpg"}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.m=e,(()=>{var e=[];a.O=(t,n,i,r)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,i,r]=e[d],o=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(o=!1,r<s&&(s=r));if(o){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,i,r]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{a.p="/"})(),(()=>{var e={143:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[s,o,l]=n,c=0;if(s.some((t=>0!==e[t]))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(l)var d=l(a)}for(t&&t(n);c<s.length;c++)r=s[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},n=self["webpackChunkcredits"]=self["webpackChunkcredits"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=a.O(void 0,[998],(()=>a(5187)));n=a.O(n)})();
//# sourceMappingURL=app.3f37fb7c.js.map